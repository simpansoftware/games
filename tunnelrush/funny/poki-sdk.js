(()=>{"use strict";function e(){var e;try{e=performance.getEntriesByType("resource").map((function(e){return e.transferSize})).reduce((function(e,t){return e+t})),e+=performance.getEntriesByType("navigation")[0].transferSize}catch(e){}return e}var t=function(e){var t=RegExp("[?&]".concat(e,"=([^&]*)")).exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))},n="kids"===t("tag"),o=!!window.adBridge,i="yes"===t("hoist")||"yes"===t("gdhoist"),r=new(function(){function e(){var e=this;this.queue=[],this.init=function(t,n){return void 0===t&&(t={}),void 0===n&&(n={}),new Promise((function(o,i){e.enqueue("init",[t,n],o,i)}))},this.rewardedBreak=function(){return new Promise((function(e){e(!1)}))},this.commercialBreak=function(t){return new Promise((function(n,o){e.enqueue("commercialBreak",[t],n,o)}))},this.displayAd=function(e,t,n,o){o&&o(!0),n&&n()},this.withArguments=function(t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];e.enqueue(t,n)}},this.handleAutoResolvePromise=function(){return new Promise((function(e){e()}))},this.throwNotLoaded=function(){console.debug("PokiSDK is not loaded yet. Not all methods are available.")},this.doNothing=function(){}}return e.prototype.enqueue=function(e,t,o,i){var r={fn:e,args:t||[],resolveFn:o,rejectFn:i};n?o&&o(!0):this.queue.push(r)},e.prototype.dequeue=function(){for(var e=this,t=function(){var t,o,i=n.queue.shift(),r=i,a=r.fn,c=r.args;if("function"==typeof window.PokiSDK[a])if((null==i?void 0:i.resolveFn)||(null==i?void 0:i.rejectFn)){var s="init"===a;if((t=window.PokiSDK)[a].apply(t,c).catch((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];"function"==typeof i.rejectFn&&i.rejectFn.apply(i,t),s&&setTimeout((function(){e.dequeue()}),0)})).then((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];"function"==typeof i.resolveFn&&i.resolveFn.apply(i,t),s&&setTimeout((function(){e.dequeue()}),0)})),s)return"break"}else(o=window.PokiSDK)[a].apply(o,c);else console.error("Cannot execute ".concat(a))},n=this;this.queue.length>0;){if("break"===t())break}},e}());if(window.PokiSDK={init:r.init,initWithVideoHB:r.init,commercialBreak:r.commercialBreak,rewardedBreak:r.rewardedBreak,displayAd:r.displayAd,destroyAd:r.doNothing,getLeaderboard:r.handleAutoResolvePromise,shareableURL:function(){return new Promise((function(e,t){t()}))},getURLParam:function(e){return t("gd".concat(e))||t(e)||""},getLanguage:function(){return navigator.language.toLowerCase().split("-")[0]},isAdBlocked:function(){}},["captureError","customEvent","gameInteractive","gameLoadingFinished","gameLoadingProgress","gameLoadingStart","gameplayStart","gameplayStop","happyTime","logError","muteAd","roundEnd","roundStart","sendHighscore","setDebug","setDebugTouchOverlayController","setLogging","setPlayerAge","setPlaytestCanvas","enableEventTracking","playtestSetCanvas","playtestCaptureHtmlOnce","playtestCaptureHtmlForce","playtestCaptureHtmlOn","playtestCaptureHtmlOff"].forEach((function(e){window.PokiSDK[e]=r.withArguments(e)})),!o&&!n){window.pokiCancelProgressInterval=setInterval((function(){window.parent.postMessage({type:"pokiProgress",downloaded:e()},"*")}),1e3);try{var a=localStorage.getItem("poki_events_user_id");a||(a=crypto.randomUUID(),localStorage.setItem("poki_events_user_id",a));var c=t("game_id"),s=t("game_version_id");if(!c||!s)throw 1;window.PokiSDK.measure=function(e,t,n){window.pokiMeasureBuildin=!0,fetch("https://t.poki.io/game-event",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({category:"".concat(e),action:void 0===t?void 0:"".concat(t),label:void 0===n?void 0:"".concat(n),p4d_game_id:c,p4d_version_id:s,time_on_page:Math.floor(performance.now()),user_id:a}),mode:"no-cors",keepalive:!0,credentials:"omit"}).catch((function(e){console.error(e)}))},window.PokiSDK.measure("game","loading","start"),window.pokiMeasureBuildin=!1}catch(e){window.PokiSDK.measure=function(){}}}var u=function(){var e=window.pokiSDKVersion||t("ab")||"e21f56163681664862454cef312fa8e8b8883788",r="poki-sdk-core-".concat(e,".js");n&&(r="poki-sdk-kids-".concat(e,".js")),o&&(r="poki-sdk-playground-".concat(e,".js")),i&&(r="poki-sdk-hoist-".concat(e,".js"));new URL(document.currentScript.src);return"https://game-cdn.poki.com/scripts/".concat(e,"/").concat(r)}(),d=document.createElement("script");d.setAttribute("src",u),d.setAttribute("type","text/javascript"),d.setAttribute("crossOrigin","anonymous"),d.onload=function(){return r.dequeue()},document.head.appendChild(d)})();